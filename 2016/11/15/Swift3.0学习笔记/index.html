<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="总结一些 Swift3.0学习笔记">
<meta property="og:type" content="article">
<meta property="og:title" content="Swift3.0学习笔记">
<meta property="og:url" content="http://codershmily.github.io/2016/11/15/Swift3.0学习笔记/index.html">
<meta property="og:site_name" content="CoderShmily's Blog">
<meta property="og:description" content="总结一些 Swift3.0学习笔记">
<meta property="og:updated_time" content="2017-05-11T15:36:07.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Swift3.0学习笔记">
<meta name="twitter:description" content="总结一些 Swift3.0学习笔记">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: 'LWMYM3IRZ6',
      apiKey: '2921d2b3d1144c5d9ef2d1abeff1f089',
      indexName: 'CoderShmily',
      hits: {"per_page":10},
      labels: {"input_placeholder":"输入关键字","hits_empty":"没有找到与【${query}】相关的内容","hits_stats":"${hits} 条相关记录，共耗时${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://codershmily.github.io/2016/11/15/Swift3.0学习笔记/"/>





  <title>Swift3.0学习笔记 | CoderShmily's Blog</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">CoderShmily's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">总结学习的点点滴滴</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">

<!-- 添加 开始 -->


      

            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://codershmily.github.io/2016/11/15/Swift3.0学习笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="CoderShmily">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/100.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CoderShmily's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Swift3.0学习笔记</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-15T20:11:01+08:00">
                2016-11-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/11/15/Swift3.0学习笔记/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/11/15/Swift3.0学习笔记/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>总结一些 Swift3.0学习笔记</p>
<a id="more"></a>
<h1 id="Any-AnyObject-NSObject"><a href="#Any-AnyObject-NSObject" class="headerlink" title="Any AnyObject NSObject"></a>Any AnyObject NSObject</h1><p><code>Int</code> <code>Double</code> <code>String</code> <code>struct</code>都是结构体<br>s</p>
<ol>
<li><code>Any</code> : 一个协议声明</li>
<li><code>AnyObject</code> ： 一个具体的协议，协议里面没有内容，默认情况下，所有的类，都遵循了这个协议</li>
<li><code>NSObject</code> ： <code>NSObject</code>类</li>
</ol>
<h1 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h1><p>swift中没有非零即真和零为假的说法，只有严格的<code>Bool(true/false)</code></p>
<h2 id="1-if的使用"><a href="#1-if的使用" class="headerlink" title="1. if的使用"></a>1. if的使用</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> a = <span class="number">1</span></div><div class="line"><span class="keyword">if</span> a == <span class="number">1</span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"test"</span>)</div><div class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>  a == <span class="number">2</span>&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"sss"</span>)</div><div class="line">&#125;<span class="keyword">else</span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"wwqw"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="2-三目运算符"><a href="#2-三目运算符" class="headerlink" title="2. 三目运算符"></a>2. 三目运算符</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">a == <span class="number">1</span> ? <span class="built_in">print</span>(<span class="string">"first"</span>) : <span class="built_in">print</span>(<span class="string">"hello"</span>)</div></pre></td></tr></table></figure>
<h2 id="3-guard"><a href="#3-guard" class="headerlink" title="3. guard"></a>3. guard</h2><ol>
<li><code>guard</code>条件成立，继续往下走，不成立执行<code>else</code>里面的语句</li>
<li><code>else</code>后要跳出语句，配合<code>return</code>,<code>continue</code>,<code>break</code>,<code>throw</code>等使用</li>
</ol>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">funcTest</span><span class="params">()</span></span> &#123;</div><div class="line">    <span class="keyword">let</span> a = <span class="number">1</span></div><div class="line">    <span class="keyword">guard</span> a == <span class="number">1</span> <span class="keyword">else</span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"a != 1"</span>)</div><div class="line">        <span class="keyword">return</span></div><div class="line">    &#125;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"a == 1"</span>)</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="4-switch的用法"><a href="#4-switch的用法" class="headerlink" title="4. switch的用法"></a>4. switch的用法</h2><h3 id="1-switch与基本数据"><a href="#1-switch与基本数据" class="headerlink" title="1. switch与基本数据"></a>1. switch与基本数据</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 必须要加default, 但是有些情况可以不加，例如枚举的各个情况都判断过了</span></div><div class="line"><span class="comment">// 判断类型 可以是浮点型，String，对象。</span></div><div class="line"><span class="keyword">let</span> a = <span class="number">11</span></div><div class="line"></div><div class="line"><span class="keyword">switch</span> a &#123;</div><div class="line"><span class="keyword">case</span> <span class="number">1</span>, <span class="number">11</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"1， 11"</span>)</div><div class="line">    <span class="keyword">fallthrough</span> <span class="comment">// 会有穿透效果，如果这个case为true,也执行下个case的内容</span></div><div class="line"><span class="keyword">case</span> <span class="number">2</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"2"</span>)</div><div class="line"><span class="keyword">default</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"不知道"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="2-switch与区间"><a href="#2-switch与区间" class="headerlink" title="2. switch与区间"></a>2. switch与区间</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> score = <span class="number">10.0</span></div><div class="line"><span class="keyword">switch</span> score &#123;</div><div class="line"><span class="keyword">case</span> <span class="number">0</span> ..&lt; <span class="number">60</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"不及格"</span>)</div><div class="line"><span class="keyword">case</span> <span class="number">60</span> ..&lt; <span class="number">90</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"及格"</span>)</div><div class="line"><span class="keyword">case</span> <span class="number">90</span> ..&lt; <span class="number">100</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"优秀"</span>)</div><div class="line"><span class="keyword">default</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"default"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="3-switch与枚举"><a href="#3-switch与枚举" class="headerlink" title="3. switch与枚举"></a>3. switch与枚举</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Direction</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> up</div><div class="line">    <span class="keyword">case</span> down</div><div class="line">    <span class="keyword">case</span> <span class="keyword">left</span></div><div class="line">    <span class="keyword">case</span> <span class="keyword">right</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> rr = <span class="type">Direction</span>.<span class="keyword">right</span></div><div class="line"><span class="keyword">switch</span> rr &#123;</div><div class="line"><span class="keyword">case</span> <span class="type">Direction</span>.up:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"up"</span>)</div><div class="line"><span class="keyword">case</span> <span class="type">Direction</span>.down:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"down"</span>)</div><div class="line"><span class="keyword">case</span> <span class="type">Direction</span>.<span class="keyword">left</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"right"</span>)</div><div class="line"><span class="keyword">case</span> <span class="type">Direction</span>.<span class="keyword">right</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"right"</span>)</div><div class="line"><span class="comment">//default: // 此时可以省略default，因为各个情况都已经判断过，default也不会执行</span></div><div class="line"><span class="comment">//    print("ss")</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="4-switch与元组"><a href="#4-switch与元组" class="headerlink" title="4. switch与元组"></a>4. switch与元组</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> point = (<span class="number">10</span>, <span class="number">25</span>)</div><div class="line"><span class="keyword">switch</span> point &#123;</div><div class="line"><span class="keyword">case</span> (<span class="number">0</span>, <span class="number">0</span>):</div><div class="line">    <span class="built_in">print</span>(<span class="string">"坐标在原点"</span>)</div><div class="line"><span class="keyword">case</span> (<span class="number">1</span>...<span class="number">10</span>, <span class="number">10</span>...<span class="number">20</span>): <span class="comment">// 可以在元组中再加上区间</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"坐标的X和Y在1~10之间"</span>)</div><div class="line"><span class="keyword">case</span> (<span class="number">_</span>, <span class="number">0</span>): <span class="comment">// X可以是任意数</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"坐标的X在X轴上"</span>)</div><div class="line"><span class="keyword">case</span> (<span class="keyword">var</span> x, <span class="keyword">var</span> y): <span class="comment">// x,y来接收参数 一定为true</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"333"</span>)</div><div class="line"><span class="keyword">case</span> <span class="keyword">var</span>(x,y): <span class="keyword">where</span> x  y <span class="comment">// x,y来接收参数 xy则一定为true</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"1111"</span>)</div><div class="line"><span class="keyword">default</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"Other"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h1><h2 id="1-for循环"><a href="#1-for循环" class="headerlink" title="1. for循环"></a>1. for循环</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">for i in 0 ..&lt; 10 &#123;</div><div class="line">    print(i)</div><div class="line">&#125;</div><div class="line"></div><div class="line">// _代表忽略的意思</div><div class="line">for _ in 0 ..&lt; 10 &#123;</div><div class="line">    print(&quot;test&quot;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="2-while循环"><a href="#2-while循环" class="headerlink" title="2. while循环"></a>2. while循环</h2><h3 id="1-while循环"><a href="#1-while循环" class="headerlink" title="1. while循环"></a>1. while循环</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> i = <span class="number">10</span></div><div class="line"><span class="keyword">while</span> i  <span class="number">0</span> &#123;</div><div class="line">    i -= <span class="number">1</span></div><div class="line">    <span class="built_in">print</span>(i)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="2-repeat-while循环"><a href="#2-repeat-while循环" class="headerlink" title="2. repeat~while循环"></a>2. repeat~while循环</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// do 特殊含义，捕捉异常</span></div><div class="line"><span class="keyword">repeat</span> &#123;</div><div class="line">    i += <span class="number">1</span></div><div class="line">    <span class="built_in">print</span>(i)</div><div class="line">&#125; <span class="keyword">while</span> i &lt; <span class="number">10</span></div></pre></td></tr></table></figure>
<h1 id="字符串处理"><a href="#字符串处理" class="headerlink" title="字符串处理"></a>字符串处理</h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> str2 = <span class="string">"123"</span></div><div class="line"><span class="keyword">let</span> int4 = <span class="number">10</span></div><div class="line"></div><div class="line"><span class="comment">// 字符串拼接</span></div><div class="line">str2 + <span class="string">"\(int4)"</span></div><div class="line"></div><div class="line"><span class="comment">// 遍历字符串</span></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> str2.characters &#123;</div><div class="line">    <span class="built_in">print</span>(i)</div><div class="line">&#125;</div><div class="line"></div><div class="line">str2.lengthOfBytes(using: <span class="type">String</span>.<span class="type">Encoding</span>.utf8)</div><div class="line">str2.characters.<span class="built_in">count</span></div><div class="line"><span class="type">String</span>(format: <span class="string">"%02d"</span>, <span class="number">1</span>)</div><div class="line"></div><div class="line"><span class="comment">// 截取字符串</span></div><div class="line">str2.substring(from: str2.startIndex)</div><div class="line">str2.substring(to: str2.index(after: str2.startIndex))</div><div class="line">str2.substring(from: str2.index(str2.startIndex, offsetBy: <span class="number">2</span>))</div><div class="line">str2.substring(from: str2.index(str2.endIndex, offsetBy: -<span class="number">1</span>))</div><div class="line"><span class="keyword">let</span> range = str2.startIndex ..&lt; str2.endIndex</div><div class="line">str2.substring(with: range)</div><div class="line">str2.replaceSubrange(range, with: <span class="string">"sss"</span>)</div><div class="line"></div><div class="line"><span class="comment">// 转为OC的NSString处理</span></div><div class="line"><span class="keyword">let</span> str3 = (str2 <span class="keyword">as</span> <span class="type">NSString</span>).substring(to: <span class="number">2</span>)</div></pre></td></tr></table></figure>
<h1 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 数组的声明和初始化</span></div><div class="line"><span class="keyword">let</span> arr1 = [<span class="number">2</span>]</div><div class="line"><span class="keyword">var</span> arr2 : [<span class="type">Any</span>] = [<span class="number">1</span>, <span class="number">2</span>, <span class="string">"ii"</span>, <span class="number">11</span>, <span class="string">"ss"</span>, <span class="string">"w"</span>]</div><div class="line"><span class="keyword">let</span> arr3 = [<span class="number">1</span>, <span class="number">1.1</span>, <span class="string">"ss"</span>] <span class="keyword">as</span> [<span class="type">Any</span>]</div><div class="line"></div><div class="line"><span class="comment">// 相同类型的数组可以直接相加</span></div><div class="line">arr2 + arr3</div><div class="line"></div><div class="line"><span class="comment">// 获取</span></div><div class="line">arr2.first</div><div class="line">arr2.last</div><div class="line">arr2[<span class="number">0</span>]</div><div class="line"><span class="comment">// 追加</span></div><div class="line">arr2.append(<span class="number">2.0</span>)</div><div class="line"><span class="comment">// 修改</span></div><div class="line">arr2[<span class="number">0</span>] = <span class="number">1</span></div><div class="line"><span class="comment">// 插入</span></div><div class="line">arr2.insert(<span class="string">"sww"</span>, at: <span class="number">2</span>)</div><div class="line"><span class="comment">// 删除</span></div><div class="line">arr2.remove(at: <span class="number">0</span>)</div><div class="line">arr2.removeFirst()</div><div class="line">arr2.removeFirst(<span class="number">1</span>)</div><div class="line"></div><div class="line"><span class="comment">// 操作数组的区间</span></div><div class="line"><span class="keyword">let</span> rang2 = <span class="number">0</span> ..&lt; <span class="number">2</span></div><div class="line">arr2.removeSubrange(<span class="number">0</span> ..&lt; <span class="number">2</span>)</div><div class="line"></div><div class="line"><span class="comment">// 获取数组最大最小</span></div><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>]</div><div class="line">arr.<span class="built_in">min</span>()</div><div class="line">arr.<span class="built_in">max</span>()</div><div class="line"><span class="keyword">var</span> arr4 = [<span class="string">"a"</span>, <span class="string">"3.3"</span>]</div><div class="line"><span class="comment">// 比的ASCII码</span></div><div class="line">arr4.<span class="built_in">min</span>()</div><div class="line">arr4.<span class="built_in">max</span>()</div><div class="line"></div><div class="line"><span class="comment">// 数组的遍历</span></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span> ..&lt; arr2.<span class="built_in">count</span> &#123;</div><div class="line">    <span class="built_in">print</span>(arr2[i])</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 利用元组获取数组的 角标+ 值</span></div><div class="line"><span class="keyword">for</span> (key ,value) <span class="keyword">in</span> arr2.enumerated() &#123;</div><div class="line">    <span class="built_in">print</span>(key, value)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> arr2[<span class="number">0</span>...<span class="number">2</span>] &#123;</div><div class="line">    <span class="built_in">print</span>(i)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 转为OC数组的遍历</span></div><div class="line">(arr2 <span class="keyword">as</span> <span class="type">NSArray</span>).enumerateObjects(&#123; (value, idx, stop) <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(value, idx)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h1 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> dict : [<span class="type">String</span> : <span class="type">Any</span>] = [<span class="string">"key"</span> : <span class="number">1</span>, <span class="string">"key2"</span> : <span class="string">"value"</span>]</div><div class="line">dict[<span class="string">"key"</span>] = <span class="number">2</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> index = dict.index(forKey: <span class="string">"key"</span>)</div><div class="line"><span class="comment">// index为nil报错</span></div><div class="line">dict.remove(at: index!)</div><div class="line"></div><div class="line"><span class="comment">// 有则改，无则加</span></div><div class="line">dict.updateValue(<span class="string">"value2"</span>, forKey: <span class="string">"key2"</span>)</div><div class="line">dict.removeValue(forKey: <span class="string">"key2"</span>)</div><div class="line">dict.removeAll()</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">for</span> value <span class="keyword">in</span> dict.values &#123;</div><div class="line">    <span class="built_in">print</span>(value)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">for</span> (key ,value) <span class="keyword">in</span> dict &#123;</div><div class="line">    <span class="built_in">print</span>(key, value)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 类扩展---字典的相+</span></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Dictionary</span> </span>&#123;</div><div class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> +<span class="params">(dic : Dictionary, dic2 : Dictionary)</span></span> - <span class="type">Dictionary</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">var</span> result = dic</div><div class="line">        <span class="keyword">for</span> (key , value) <span class="keyword">in</span> dic2 &#123;</div><div class="line">            result[key] = value</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> result</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 元组类型 (name: String, Int, score: Int)， 可以作为返回值</span></div><div class="line"><span class="keyword">let</span> yz = (name : <span class="string">"zhangsan"</span>, <span class="number">_</span> : <span class="number">18</span>, score : <span class="number">2</span>)</div><div class="line">yz.<span class="number">0</span></div><div class="line">yz.name</div><div class="line">yz.score</div><div class="line"></div><div class="line"><span class="keyword">let</span>(name, age, score) = (<span class="string">"zhangsan"</span>, <span class="number">2</span>, <span class="number">2</span>)</div></pre></td></tr></table></figure>
<h1 id="可选类型"><a href="#可选类型" class="headerlink" title="可选类型"></a>可选类型</h1><p>##1. 非可选类型 （使用的时候必须有值）</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> sum : <span class="type">Int</span></div></pre></td></tr></table></figure>
<h2 id="2-可选类型-（才能赋值为nil）"><a href="#2-可选类型-（才能赋值为nil）" class="headerlink" title="2. 可选类型 （才能赋值为nil）"></a>2. 可选类型 （才能赋值为nil）</h2><p>Swift中的<code>nil</code> != OC中的<code>nil</code>，Swift种的<code>nil</code>就是一个特殊含义的字符，表示没有值</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// let sum0 : Int?  </span></div><div class="line"><span class="comment">// let sum0 : Optional&lt;Int = 2</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> sum1 : <span class="type">Int</span>!</div><div class="line">sum = <span class="literal">nil</span></div><div class="line"></div><div class="line"><span class="comment">// sum0 （Int?）需要解包才能使用</span></div><div class="line"><span class="comment">// sum1 （Int!）赋值后可以直接使用，不用解包</span></div></pre></td></tr></table></figure>
<h2 id="3-四种方式使用可选类型的值"><a href="#3-四种方式使用可选类型的值" class="headerlink" title="3. 四种方式使用可选类型的值"></a>3. 四种方式使用可选类型的值</h2><h3 id="1-判断-直接解包"><a href="#1-判断-直接解包" class="headerlink" title="1. 判断 + 直接解包"></a>1. 判断 + 直接解包</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> sum != <span class="literal">nil</span> &#123;</div><div class="line">    sum!</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="2-可选绑定"><a href="#2-可选绑定" class="headerlink" title="2. 可选绑定"></a>2. 可选绑定</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> tmp = sum &#123;</div><div class="line">    tmp</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="3-guard守护"><a href="#3-guard守护" class="headerlink" title="3. guard守护"></a>3. guard守护</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">funcl</span><span class="params">(tmp : Int?)</span></span> &#123;</div><div class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> test = tmp <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span></div><div class="line">    &#125;</div><div class="line">    test</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="4-空合运算符"><a href="#4-空合运算符" class="headerlink" title="4. 空合运算符"></a>4. 空合运算符</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 如果sum == nil,那么取 ？？ 后面的值</span></div><div class="line"><span class="comment">// 如果 sum != nil, 取 sum! 强制解包后的值 </span></div><div class="line"><span class="keyword">let</span> tmp2 = sum ?? <span class="number">0</span></div></pre></td></tr></table></figure>
<h1 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = <span class="number">8.8</span></div><div class="line">a <span class="keyword">is</span> <span class="type">Int</span></div><div class="line">a <span class="keyword">is</span> <span class="type">Double</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">let</span> str = <span class="string">"123"</span></div><div class="line">str <span class="keyword">as</span> <span class="type">NSString</span></div><div class="line">str <span class="keyword">as</span> <span class="type">Any</span></div><div class="line"></div><div class="line"><span class="comment">// as! 代表，肯定可以转换成功，转换的结果，是非可选 不能为nil</span></div><div class="line"><span class="comment">// as? 代表，系统尝试帮你进行转换，转失败了，就为nil</span></div></pre></td></tr></table></figure>
<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><h2 id="1-函数的四种类型"><a href="#1-函数的四种类型" class="headerlink" title="1. 函数的四种类型"></a>1. 函数的四种类型</h2><h3 id="1-无参数，无返回值"><a href="#1-无参数，无返回值" class="headerlink" title="1. 无参数，无返回值"></a>1. 无参数，无返回值</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">func1</span><span class="params">()</span></span> &#123;</div><div class="line">    </div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">func2</span><span class="params">()</span></span> -&gt; <span class="type">Void</span> &#123;</div><div class="line">    </div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">func3</span><span class="params">()</span></span> -&gt; () &#123;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="2-无参数，有返回值"><a href="#2-无参数，有返回值" class="headerlink" title="2. 无参数，有返回值"></a>2. 无参数，有返回值</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">func1</span><span class="params">()</span></span> &#123;</div><div class="line">    </div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">func2</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span></div><div class="line">    </div><div class="line">&#125;</div><div class="line"><span class="comment">// 返回元组</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">func3</span><span class="params">()</span></span> -&gt; (<span class="type">Int</span>, <span class="type">String</span>) &#123;</div><div class="line">    <span class="keyword">return</span> (<span class="number">1</span>, <span class="string">"123"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="3-有参数，无返回值"><a href="#3-有参数，无返回值" class="headerlink" title="3. 有参数，无返回值"></a>3. 有参数，无返回值</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">func1</span><span class="params">(age : Int)</span></span> &#123;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="4-有参数，有返回值"><a href="#4-有参数，有返回值" class="headerlink" title="4. 有参数，有返回值"></a>4. 有参数，有返回值</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">func3</span><span class="params">(age : Int)</span></span> -&gt; (<span class="type">Int</span>, <span class="type">String</span>) &#123;</div><div class="line">    <span class="keyword">return</span> (<span class="number">1</span>, <span class="string">"123"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="函数其他注意"><a href="#函数其他注意" class="headerlink" title="函数其他注意"></a>函数其他注意</h2><h3 id="1-省略第一个外部参数的名字"><a href="#1-省略第一个外部参数的名字" class="headerlink" title="1. 省略第一个外部参数的名字"></a>1. 省略第一个外部参数的名字</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 省略第一个内部参数(函数内部可以使用的参数)</span></div><div class="line"><span class="comment">// 从swift3.0开始默认第一个参数既是外部参数（函数调用时可以看到的参数）也是内部参数</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">func2</span><span class="params">(<span class="number">_</span> name : Int, name2 : Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="2-设置参数默认值"><a href="#2-设置参数默认值" class="headerlink" title="2. 设置参数默认值"></a>2. 设置参数默认值</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 设置默认值，会生成几种组合（带不带第二个参数的）</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">func2</span><span class="params">(name : Int, name2 : Int = <span class="number">1</span>)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="3-设置可变参数"><a href="#3-设置可变参数" class="headerlink" title="3. 设置可变参数"></a>3. 设置可变参数</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"> <span class="comment">// 可变参数  类型...</span></div><div class="line"> <span class="comment">// 函数内部，把这个参数，当做数组来处理</span></div><div class="line"> <span class="comment">// 函数外部，直接可以传递多个值，用逗号隔开</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">addNum</span><span class="params">(nums : Int...)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">var</span> result = <span class="number">0</span></div><div class="line">    <span class="keyword">for</span> num <span class="keyword">in</span> nums &#123;</div><div class="line">        result += num</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> result</div><div class="line">&#125;</div><div class="line">addNum(nums: <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</div></pre></td></tr></table></figure>
<h3 id="4-修改内部参数的值"><a href="#4-修改内部参数的值" class="headerlink" title="4. 修改内部参数的值"></a>4. 修改内部参数的值</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 默认不能修改内部参数的值</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">change</span><span class="params">(num : Int)</span></span> &#123;</div><div class="line">    <span class="comment">// num 为常亮，不能修改</span></div><div class="line">    <span class="keyword">var</span> num = num</div><div class="line">    num = <span class="number">3</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> a = <span class="number">0</span></div><div class="line">change(num: a)</div></pre></td></tr></table></figure>
<h3 id="5-设置参数为地址传递"><a href="#5-设置参数为地址传递" class="headerlink" title="5. 设置参数为地址传递"></a>5. 设置参数为地址传递</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"> <span class="comment">// inout设置第一个参数为地址传递</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">func1</span><span class="params">(name : <span class="keyword">inout</span> Int, name2 : Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="6-函数嵌套"><a href="#6-函数嵌套" class="headerlink" title="6. 函数嵌套"></a>6. 函数嵌套</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span></span> &#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">test2</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"sss"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="7-函数的类型"><a href="#7-函数的类型" class="headerlink" title="7. 函数的类型"></a>7. 函数的类型</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// (Int, Int) -&gt; Int</span></div><div class="line"><span class="comment">// 函数的类型 ： 参数类型 和返回值类型</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(num : Int, num2 : Int)</span></span>  -&gt; <span class="type">Int</span>&#123;</div><div class="line">    <span class="keyword">return</span> num + num2</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// (Int, Int) -&gt; Int</span></div><div class="line"><span class="comment">// 函数的类型 ： 参数类型 和返回值类型</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">jian</span><span class="params">(num : Int, num2 : Int)</span></span>  -&gt; <span class="type">Int</span>&#123;</div><div class="line">    <span class="keyword">return</span> num - num2</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">exec</span><span class="params">(n1 : Int, n2 : Int, fun : <span class="params">(Int, Int)</span></span></span> -&gt; <span class="type">Int</span>) &#123;</div><div class="line">    <span class="keyword">let</span> result = fun(n1 ,n2)</div><div class="line">    <span class="built_in">print</span>(result)</div><div class="line">&#125;</div><div class="line"></div><div class="line">exec(n1: <span class="number">3</span>, n2: <span class="number">2</span>, fun: add)</div><div class="line">exec(n1: <span class="number">3</span>, n2: <span class="number">2</span>, fun: jian)</div></pre></td></tr></table></figure>
<h3 id="8-区分不同函数"><a href="#8-区分不同函数" class="headerlink" title="8. 区分不同函数"></a>8. 区分不同函数</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span></span> &#123;   </div><div class="line">&#125;</div><div class="line"><span class="comment">// 参数返回值不同</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span></div><div class="line">&#125;</div><div class="line"><span class="comment">// 参数类型不同</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">(age : Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span></div><div class="line">&#125;</div><div class="line"><span class="comment">// 参数名字不同</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">(<span class="number">_</span> age : Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span></div><div class="line">&#125;</div><div class="line"><span class="comment">// 参数名字不同</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">(name : Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 在swift里面，枚举类型，默认情况，不表示任何类型，就是一个标识</span></div><div class="line"><span class="comment">// 类型首字母大写，元素小写</span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Direction</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> east</div><div class="line">    <span class="keyword">case</span> west</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Direction2</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> east, west</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Direction3</span> : <span class="title">Int</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> east = <span class="number">1</span></div><div class="line">    <span class="keyword">case</span> west = <span class="number">3</span></div><div class="line">    <span class="keyword">case</span> north <span class="comment">// Direction3.north.rawValue = 4 会自己累加</span></div><div class="line">    <span class="keyword">case</span> south</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 只有后边指定类型才能敲出rawValue</span></div><div class="line"><span class="comment">// Direction4.left.rawValue 取出的值就是指定的类型</span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Direction4</span> : <span class="title">String</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="keyword">left</span> = <span class="string">"left"</span></div><div class="line">    <span class="keyword">case</span> <span class="keyword">right</span> = <span class="string">"right"</span></div><div class="line">    <span class="keyword">case</span> top</div><div class="line">    <span class="keyword">case</span> down</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">func1</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"wwwww"</span>)</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">func2</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"rrrr"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> rv = <span class="type">Direction3</span>.north.rawValue</div><div class="line"><span class="keyword">let</span> rv2 = <span class="type">Direction3</span>(rawValue: <span class="number">1</span>)</div><div class="line"><span class="keyword">let</span> rv3 = <span class="type">Direction4</span>(rawValue: <span class="string">"left"</span>)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">(path : Direction4)</span></span> &#123;</div><div class="line">    <span class="keyword">if</span> path == .<span class="keyword">left</span> &#123;</div><div class="line">        <span class="built_in">print</span>(path.rawValue)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h1><h2 id="1-结构体基本使用"><a href="#1-结构体基本使用" class="headerlink" title="1. 结构体基本使用"></a>1. 结构体基本使用</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 类型方法 static func</span></div><div class="line"><span class="comment">// 实例方法 func</span></div><div class="line"><span class="comment">// 无论是枚举，还是结构体，都可以写方法</span></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span> </span>&#123;</div><div class="line">    <span class="comment">// 实例属性</span></div><div class="line">    <span class="keyword">var</span> x : <span class="type">Double</span></div><div class="line">    <span class="keyword">var</span> y : <span class="type">Double</span></div><div class="line">    <span class="comment">// 实例方法</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">distance</span><span class="params">()</span></span> -&gt; <span class="type">Double</span> &#123;</div><div class="line">        <span class="keyword">return</span> x - y</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">distance2</span><span class="params">()</span></span> -&gt; <span class="type">Double</span> &#123;</div><div class="line">        x += <span class="number">2</span>  <span class="comment">// 修改实例属性 方法要加mutating</span></div><div class="line">        <span class="built_in">print</span>(<span class="type">Point</span>.z) <span class="comment">// 访问类型属性</span></div><div class="line">        <span class="keyword">return</span> x - y</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// 类型属性</span></div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> z : <span class="type">Double</span> = <span class="number">0</span> <span class="comment">// 需要初始化</span></div><div class="line">    <span class="comment">// 类型方法</span></div><div class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">dis</span><span class="params">()</span></span> &#123;</div><div class="line"><span class="comment">//        print(x) 不能直接访问x</span></div><div class="line">        <span class="built_in">print</span>(z)</div><div class="line">        <span class="built_in">print</span>(<span class="type">Point</span>.z)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="2-结构体扩充构造函数"><a href="#2-结构体扩充构造函数" class="headerlink" title="2. 结构体扩充构造函数"></a>2. 结构体扩充构造函数</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span> </span>&#123;</div><div class="line">    <span class="comment">// 实例属性</span></div><div class="line">    <span class="keyword">var</span> x : <span class="type">Double</span></div><div class="line">    <span class="keyword">var</span> y : <span class="type">Double</span></div><div class="line">    <span class="keyword">var</span> z : <span class="type">Double</span>?</div><div class="line">    </div><div class="line">    <span class="comment">// 自定义 “构造函数” ！= 普通函数</span></div><div class="line">    <span class="comment">// 不加func,必须使用init作为名称</span></div><div class="line">    <span class="comment">// 在构造函数内部，必须要保证，所有的非可选属性，必须有值</span></div><div class="line">    <span class="comment">// 如果我们自定义了构造函数，那么系统生成的逐一构造器，就没有了</span></div><div class="line">    <span class="keyword">init</span>(x : <span class="type">Double</span>, y : <span class="type">Double</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.x = x</div><div class="line">        <span class="keyword">self</span>.y = y</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">init</span>(x : <span class="type">Double</span>, y : <span class="type">Double</span>, z : <span class="type">Double</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.x = x</div><div class="line">        <span class="keyword">self</span>.y = y</div><div class="line">        <span class="keyword">self</span>.z = z</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="类"><a href="#类" class="headerlink" title="类"></a>类</h1><h2 id="1-类的声明初始化"><a href="#1-类的声明初始化" class="headerlink" title="1. 类的声明初始化"></a>1. 类的声明初始化</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// swift类，是可以不继承父类，那它本身就是rootClass</span></div><div class="line"><span class="comment">// 可以写属性和方法</span></div><div class="line"><span class="comment">// 属性：实例属性，类型属性</span></div><div class="line"><span class="comment">// 方法：实例方法，类型方法</span></div><div class="line"><span class="comment">// 类，默认情况下，不会生成逐一构造器（目的，保证所有的非可选属性有值）</span></div><div class="line"><span class="comment">// 默认情况下，不能保证，所有的非可选属性有值</span></div><div class="line"><span class="comment">// 一个实例对象被创建好以后，必须保证里面所有的非可选属性有值</span></div><div class="line"><span class="comment">// 方案1：在构造函数中入手，给非可选属性初始化</span></div><div class="line"><span class="comment">// 方案2：把非可选 - 可选</span></div><div class="line"><span class="comment">// 方案3：给非可选的属性赋值默认值</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> age : <span class="type">Int</span></div><div class="line">    <span class="keyword">init</span>(age : <span class="type">Int</span>) &#123;</div><div class="line">    <span class="comment">// 为了不与age参数冲突才使用self</span></div><div class="line">        <span class="keyword">self</span>.age = age</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">init</span>() &#123;</div><div class="line">        age = <span class="number">2</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">// 不会生成逐一构造器</span></div><div class="line"><span class="keyword">let</span> p = <span class="type">Person</span>()</div><div class="line"><span class="keyword">let</span> p2 = <span class="type">Person</span>(age: <span class="number">3</span>)</div></pre></td></tr></table></figure>
<h2 id="2-类的属性和方法"><a href="#2-类的属性和方法" class="headerlink" title="2. 类的属性和方法"></a>2. 类的属性和方法</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</div><div class="line">    <span class="comment">// 实例属性 - 存储属性（可以用来存储数值的属性）</span></div><div class="line">    <span class="keyword">var</span> score = <span class="number">1</span></div><div class="line">    <span class="keyword">var</span> score2 : <span class="type">Int</span> = <span class="number">0</span>  &#123;</div><div class="line">        <span class="keyword">willSet</span> &#123;</div><div class="line">            score2 <span class="comment">// old</span></div><div class="line">            newValue <span class="comment">// new</span></div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="comment">//        willSet(changeName) &#123;</span></div><div class="line">        <span class="comment">//            score2 // old</span></div><div class="line">        <span class="comment">//            changeName // new</span></div><div class="line">        <span class="comment">//        &#125;</span></div><div class="line">        <span class="keyword">didSet</span> &#123;</div><div class="line">            score2 <span class="comment">// new</span></div><div class="line">            oldValue <span class="comment">// old</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// 实例属性 - 计算属性（并不是直接用来存储数值的，它是通过某些计算得来的数值）</span></div><div class="line">    <span class="keyword">var</span> b : <span class="type">Int</span> &#123;</div><div class="line">        <span class="keyword">get</span> &#123;</div><div class="line">            <span class="keyword">return</span> score + score2</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">set</span> &#123;</div><div class="line">            newValue</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// 类型属性</span></div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> <span class="built_in">c</span> = <span class="number">1</span></div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> d : <span class="type">Int</span>?</div><div class="line">    <span class="comment">// 实例方法</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">func1</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">self</span>.score += <span class="number">1</span></div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// 类型方法 - 不可以被子类重写override</span></div><div class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">func2</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"rrrr"</span>, <span class="built_in">c</span>)</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// 类型方法 - 可以被子类重写(结构体不能用class声明方法)</span></div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">func3</span>() </span>&#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"sss"</span>)</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// 结构体不能使用deinit析构函数</span></div><div class="line">    <span class="comment">// 析构函数只能被定义在class类中，不能在extension中</span></div><div class="line">    <span class="keyword">deinit</span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"类死了"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="3-类的继承之KVC使用"><a href="#3-类的继承之KVC使用" class="headerlink" title="3. 类的继承之KVC使用"></a>3. 类的继承之KVC使用</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> : <span class="title">NSObject</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">var</span> age : <span class="type">Int</span> = <span class="number">0</span></div><div class="line">    <span class="keyword">var</span> name : <span class="type">String</span> = <span class="string">""</span></div><div class="line"></div><div class="line">    <span class="keyword">init</span>(dic : [<span class="type">String</span> : <span class="type">Any</span>]) &#123;</div><div class="line">        </div><div class="line">        <span class="comment">// KVC实现之前，必须调用父类的init方法初始化</span></div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>()</div><div class="line">        setValuesForKeys(dic)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> dic : [<span class="type">String</span> : <span class="type">Any</span>] = [<span class="string">"name"</span> : <span class="string">"zhangsan"</span>, <span class="string">"age"</span> : <span class="number">33</span>]</div><div class="line"><span class="keyword">let</span> stu = <span class="type">Person</span>(dic: dic)</div></pre></td></tr></table></figure>
<h2 id="4-类的循环引用"><a href="#4-类的循环引用" class="headerlink" title="4. 类的循环引用"></a>4. 类的循环引用</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> dog : <span class="type">Dog</span>?</div><div class="line">    <span class="keyword">deinit</span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"人挂了"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</div><div class="line">    <span class="comment">// 使用weak来避免循环引用 （unowned也可以）</span></div><div class="line">    <span class="keyword">weak</span> <span class="keyword">var</span> master : <span class="type">Person</span>?</div><div class="line">    <span class="keyword">deinit</span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"🐶挂了"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> p : <span class="type">Person</span>? = <span class="type">Person</span>()</div><div class="line"><span class="keyword">var</span> d : <span class="type">Dog</span>? = <span class="type">Dog</span>()</div><div class="line">p?.dog = d</div><div class="line">d?.master = p</div><div class="line"></div><div class="line">p = <span class="literal">nil</span></div><div class="line">d = <span class="literal">nil</span></div></pre></td></tr></table></figure>
<h2 id="5-结构体和类的区别"><a href="#5-结构体和类的区别" class="headerlink" title="5. 结构体和类的区别"></a>5. 结构体和类的区别</h2><ol>
<li>结构体有逐一构造器，类没有</li>
<li>结构体是值类型，类是引用类型</li>
<li>结构体不能继承（意味着没有多态）</li>
</ol>
<h2 id="6-OC中使用Swift的类和结构体"><a href="#6-OC中使用Swift的类和结构体" class="headerlink" title="6. OC中使用Swift的类和结构体"></a>6. OC中使用Swift的类和结构体</h2><ol>
<li>OC与Swift混编，Swift中的函数名要符合OC的规范，重载的方法用<code>@objc</code>指定名字，避免冲突</li>
<li>如果是类，必须要继承自<code>NSObject</code>，而且用<code>public</code>关键字对类、方法、属性等进行修饰</li>
<li>如果是协议最好继承自<code>NSObjectProtocol</code>（也就对应OC中的基协议），用标识符<code>@objc</code>，而且声明为<code>public</code></li>
<li><code>Build Settings</code>搜索<code>-Swift</code>，找到 <code>Objective-C Generated Interface Header Name</code> 里面的.h文件即为OC调用时，要包含的头文件 <code>#import &quot;XXX-Swift.h&quot;</code></li>
</ol>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> : <span class="title">NSObject</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">var</span> name : <span class="type">String</span> = <span class="string">""</span></div><div class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">getAge</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"hello age"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="meta">@objc</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">work</span> : <span class="title">NSObjectProtocol</span></span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">goWork</span><span class="params">()</span></span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="7-Swift中调用OC"><a href="#7-Swift中调用OC" class="headerlink" title="7. Swift中调用OC"></a>7. Swift中调用OC</h2><ol>
<li>Swift项目创建OC文件时回生成.h桥接文件，可以在<code>Build Settings</code>的<code>Objective-C Bridging Header</code>中找到，也可以自己创建.h文件，路径跟系统生成的一致</li>
<li>在.h文件包含对应的OC头文件</li>
</ol>
<h1 id="三大特性"><a href="#三大特性" class="headerlink" title="三大特性"></a>三大特性</h1><p>类的三大特性：封装、继承、多态</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> : <span class="title">NSObject</span> </span>&#123;</div><div class="line">    <span class="comment">// 类继承NSObject后，下面两个方法会报错，说是转换到OC以后两个方法有冲突</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">chongzai</span><span class="params">(a : Int)</span></span> &#123;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">chongzai</span><span class="params">(a : Double)</span></span> &#123;  </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>解决办法：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> : <span class="title">NSObject</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">chongzai</span><span class="params">(a : Int)</span></span> &#123;    </div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// 通过此标识，自定义生成的方法名，解决重复冲突</span></div><div class="line">    <span class="meta">@objc</span>(chongzai:)</div><div class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">chongzai</span><span class="params">(a : Double)</span></span> &#123;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">// 项目名称为app，弹框选择的是不桥接</span></div><div class="line"><span class="comment">// Build Settings搜索-Swift，找到 Objective-C Generated Interface Header Name 里面的.h文件即为要包含的头文件</span></div><div class="line">#<span class="keyword">import</span> "app-Swift.h"</div><div class="line">@implementation <span class="type">ViewController</span></div><div class="line">- (void)viewDidLoad &#123;</div><div class="line">    [<span class="keyword">super</span> viewDidLoad];</div><div class="line">    </div><div class="line">    <span class="type">Test</span> *t = [[<span class="type">Test</span> alloc] <span class="keyword">init</span>];</div><div class="line">    [t chongzaiWithA:(<span class="type">NSInteger</span>)];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="可选链"><a href="#可选链" class="headerlink" title="可选链"></a>可选链</h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> dog : <span class="type">Dog</span>?</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> name : <span class="type">String</span> = <span class="string">"wangcai"</span></div><div class="line">    <span class="keyword">var</span> toy : <span class="type">Toy</span>?</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Toy</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> price : <span class="type">Double</span> = <span class="number">0.0</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> p = <span class="type">Person</span>()</div><div class="line"><span class="comment">// 如果可选链的结果是nil，就代表链条中间至少有一个环节断了</span></div><div class="line"><span class="comment">// () == Void != nil</span></div><div class="line">p.dog?.toy?.price</div></pre></td></tr></table></figure>
<h1 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h1><h2 id="1-协议的基本使用"><a href="#1-协议的基本使用" class="headerlink" title="1.协议的基本使用"></a>1.协议的基本使用</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">work</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span></span></div><div class="line">&#125;</div><div class="line"><span class="comment">// 枚举也可以遵循协议</span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Direction</span> : <span class="title">work</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="keyword">left</span></div><div class="line">    <span class="keyword">case</span> <span class="keyword">right</span></div><div class="line">    </div><div class="line">    <span class="comment">// 实例方法</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"Direction run"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="type">Direction</span>.<span class="keyword">left</span>.run()</div><div class="line"></div><div class="line"><span class="comment">// 协议可以继承，这里不叫遵循，遵循work协议是要实现函数的</span></div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">work2</span> : <span class="title">NSObjectProtocol</span></span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">run2</span><span class="params">()</span></span></div><div class="line">&#125;</div><div class="line"><span class="comment">// 如果遵循了协议，要求，必须实现协议里的所有方法</span></div><div class="line"><span class="comment">// 同时继承 + 遵循协议，不支持多继承</span></div><div class="line"><span class="comment">// NSObject 实现了NSObjectProtocol协议的所有方法</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Stu</span> : <span class="title">NSObject</span>, <span class="title">work2</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">run2</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"Stu run2"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="2-协议中使用代理"><a href="#2-协议中使用代理" class="headerlink" title="2. 协议中使用代理"></a>2. 协议中使用代理</h2><ol>
<li><code>weak</code> 修饰类，<code>work : class</code>,轻量级</li>
<li><code>work : NSObjectProtocol</code>也可以，但是遵循<code>work</code>协议的类，都要继承要<code>NSObject</code>了</li>
</ol>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">work</span> : <span class="title">NSObjectProtocol</span></span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span></span></div><div class="line">&#125;</div><div class="line"><span class="comment">//protocol work : class&#123;</span></div><div class="line"><span class="comment">//    func run()</span></div><div class="line"><span class="comment">//&#125;</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Stu</span> </span>&#123;</div><div class="line">    <span class="keyword">weak</span> <span class="keyword">var</span> delegate : work?</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"Stu run2"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="3-协议中的可选"><a href="#3-协议中的可选" class="headerlink" title="3. 协议中的可选"></a>3. 协议中的可选</h2><p> 协议中的可选，仅仅是OC的特性，Swift是不支持的<br> 解决方案：就是让Swift协议，拥有OC特性</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@objc</span></div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">work</span> </span>&#123;</div><div class="line">  <span class="meta">@objc</span> <span class="keyword">optional</span>  <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span></span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Stu</span> : <span class="title">work</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"Stu run2"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>#泛型</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 泛化的类型，不是某一个具体的类型, &lt;T&gt;中的T可以自定义名字</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">exchange</span>&lt;T&gt;<span class="params">(num1 : <span class="keyword">inout</span> T, num2 : <span class="keyword">inout</span> T)</span></span> &#123;</div><div class="line">    <span class="keyword">let</span> tmp = num1</div><div class="line">    num1 = num2</div><div class="line">    num2 = tmp</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;  </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 限制 T 必须继承自 Person</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">exchange2</span>&lt;T&gt;<span class="params">(num1 : <span class="keyword">inout</span> T, num2 : <span class="keyword">inout</span> T)</span></span> -&gt; <span class="type">Int</span>  <span class="keyword">where</span> <span class="type">T</span> : <span class="type">Person</span>  &#123;</div><div class="line">    <span class="keyword">let</span> tmp = num1</div><div class="line">    num1 = num2</div><div class="line">    num2 = tmp</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> a = <span class="number">3</span></div><div class="line"><span class="keyword">var</span> b = <span class="number">9</span></div><div class="line"><span class="keyword">var</span> p1 = <span class="type">Person</span>()</div><div class="line"><span class="keyword">var</span> p2 = <span class="type">Person</span>()</div><div class="line">exchange(num1: &amp;a, num2: &amp;b)</div><div class="line"></div><div class="line"><span class="comment">// 参数必须继承自 Person</span></div><div class="line">exchange2(num1: &amp;p1, num2: &amp;p2)</div></pre></td></tr></table></figure>
<h1 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h1><p> 闭包 == 特殊的函数</p>
<h2 id="1-闭包的基本使用"><a href="#1-闭包的基本使用" class="headerlink" title="1.闭包的基本使用"></a>1.闭包的基本使用</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 函数</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(num1 : Int, num2 : Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> num1 + num2</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 简单的闭包</span></div><div class="line"><span class="comment">// 如果闭包，参数是没有的，可以省略，in和in前面的内容</span></div><div class="line"><span class="keyword">var</span> bibao : ()-&gt;() = &#123;</div><div class="line">    <span class="comment">//    ()-&gt;() in // 可以省略</span></div><div class="line">&#125;</div><div class="line"><span class="comment">// 带参数的闭包</span></div><div class="line"><span class="keyword">var</span> bibao2 : (<span class="type">Int</span>, <span class="type">Int</span>)-&gt;(<span class="type">Int</span>) = &#123;</div><div class="line"><span class="comment">//    (varg1, varg2) in</span></div><div class="line">    (varg1 : <span class="type">Int</span>, varg2 : <span class="type">Int</span>) <span class="keyword">in</span></div><div class="line">    <span class="keyword">return</span> varg1 + varg2</div><div class="line">&#125;</div><div class="line"></div><div class="line">bibao2(<span class="number">10</span>, <span class="number">20</span>)</div><div class="line"></div><div class="line"><span class="comment">// 闭包当做参数</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">exec</span><span class="params">(n1 : Int, n2 : Int, block : <span class="params">(Int, Int)</span></span></span>-&gt;(<span class="type">Int</span>)) -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> block(n1, n2)</div><div class="line">&#125;</div><div class="line">exec(n1: <span class="number">20</span>, n2: <span class="number">30</span>, block: add)</div><div class="line">exec(n1: <span class="number">20</span>, n2: <span class="number">30</span>, block: bibao2)</div><div class="line">exec(n1: <span class="number">20</span>, n2: <span class="number">30</span>, block: &#123;</div><div class="line">    (a : <span class="type">Int</span>, b : <span class="type">Int</span>)-&gt;(<span class="type">Int</span>) <span class="keyword">in</span></div><div class="line">    <span class="keyword">return</span> a * b</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="2-尾随闭包和逃逸闭包"><a href="#2-尾随闭包和逃逸闭包" class="headerlink" title="2. 尾随闭包和逃逸闭包"></a>2. 尾随闭包和逃逸闭包</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//尾随闭包是一个书写在函数括号之后的闭包表达式，函数支持将其作为最后一个参数调用。在使用尾随闭包时，你不用写出它的参数标签(此处是bb)</span></div><div class="line"><span class="comment">// 如果一个函数的参数，是一个闭包类型，那么默认情况下，是一个“非逃逸”闭包；（闭包，生命周期，是函数）</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">(a : Int, bb : <span class="params">(Int, Int)</span></span></span>-&gt;(<span class="type">Int</span>)) &#123;</div><div class="line">    <span class="keyword">let</span> result = bb(a, <span class="number">3</span>)</div><div class="line">    <span class="built_in">print</span>(result)</div><div class="line">&#125;</div><div class="line"></div><div class="line">test(a: <span class="number">20</span>) &#123; (sum1, sum2) -&gt; (<span class="type">Int</span>) <span class="keyword">in</span></div><div class="line">    <span class="keyword">return</span> sum1 - sum2</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// @escaping : 代表，这个闭包，是逃逸闭包，以后，有可能，会被其他的闭包，延长生命周期（强引用）</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">test2</span><span class="params">(bb : @escaping <span class="params">(Int, Int)</span></span></span>-&gt;(<span class="type">Int</span>)) &#123;</div><div class="line">    bb(<span class="number">23</span>, <span class="number">3</span>)</div><div class="line">    <span class="keyword">let</span> queue = <span class="type">DispatchQueue</span>(label: <span class="string">"xx"</span>)</div><div class="line">    <span class="keyword">let</span> time = <span class="type">DispatchTime</span>.now() + <span class="type">DispatchTimeInterval</span>.seconds(<span class="number">2</span>)</div><div class="line">    queue.asyncAfter(deadline: time) &#123; </div><div class="line">        <span class="comment">// 此处编译器会提示添加 @escaping</span></div><div class="line">        <span class="number">_</span> = bb(<span class="number">10</span>, <span class="number">3</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">test2 &#123; (sum, sum2) -&gt; (<span class="type">Int</span>) <span class="keyword">in</span></div><div class="line">    <span class="keyword">return</span> sum * sum2</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="3-闭包的循环引用（4中解决方式）"><a href="#3-闭包的循环引用（4中解决方式）" class="headerlink" title="3. 闭包的循环引用（4中解决方式）"></a>3. 闭包的循环引用（4中解决方式）</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> resultBlock : (()-&gt;())?</div><div class="line">    <span class="keyword">var</span> age : <span class="type">Int</span> = <span class="number">0</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="comment">// weak 对象最后会被置为 nil，所以var</span></div><div class="line">        <span class="keyword">weak</span> <span class="keyword">var</span> weakSelf = <span class="keyword">self</span></div><div class="line">        resultBlock = &#123;</div><div class="line">            <span class="built_in">print</span>(<span class="string">"222"</span>,weakSelf?.age)</div><div class="line">        &#125;</div><div class="line">        resultBlock?()</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">test2</span><span class="params">()</span></span> &#123;</div><div class="line">        resultBlock = &#123;</div><div class="line">            [<span class="keyword">weak</span> <span class="keyword">self</span>] <span class="keyword">in</span></div><div class="line">            <span class="built_in">print</span>(<span class="keyword">self</span>?.age)</div><div class="line">        &#125;</div><div class="line">        resultBlock?()</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">test3</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="comment">// unowned == __unsafe_unretained 最后不会置为nil，编译器建议为let</span></div><div class="line">        <span class="keyword">unowned</span> <span class="keyword">let</span> weakSelf = <span class="keyword">self</span></div><div class="line">        resultBlock = &#123;</div><div class="line">            <span class="built_in">print</span>(weakSelf.age)</div><div class="line">        &#125;</div><div class="line">        resultBlock?()</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">test4</span><span class="params">()</span></span> &#123;</div><div class="line">        resultBlock = &#123;</div><div class="line">            [<span class="keyword">unowned</span> <span class="keyword">self</span>] <span class="keyword">in</span></div><div class="line">            <span class="built_in">print</span>(<span class="keyword">self</span>.age)</div><div class="line">        &#125;</div><div class="line">        resultBlock?()</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">deinit</span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"人被释放了"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> p : <span class="type">Person</span>? = <span class="type">Person</span>()</div><div class="line">p?.test()</div><div class="line">p = <span class="literal">nil</span></div></pre></td></tr></table></figure>
<h1 id="懒加载"><a href="#懒加载" class="headerlink" title="懒加载"></a>懒加载</h1><p>只是在第一次访问的时候，会调用相应的函数，获取实例，下次即使值为<code>nil</code>，也不会再次调用相应的函数，获取新的实例</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> name : <span class="type">String</span> = <span class="string">"wangcai"</span></div><div class="line">    <span class="keyword">init</span>() &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"创建了小狗"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 懒加载</span></div><div class="line"><span class="comment">// 函数：构造函数，一般的函数，闭包</span></div><div class="line"><span class="comment">// = 后面可以跟的值：具体的指，构造“函数”</span></div><div class="line"><span class="comment">// 所谓的懒加载，是指，在用的时候，再通过后面的函数，获取相应的实例</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</div><div class="line">    <span class="built_in">lazy</span> <span class="keyword">var</span> dog : <span class="type">Dog</span> = <span class="type">Dog</span>()</div><div class="line">    <span class="comment">// 这样的懒加载可以对创建的对象进行修改</span></div><div class="line">    <span class="built_in">lazy</span> <span class="keyword">var</span> dog2 : <span class="type">Dog</span> = <span class="type">Person</span>.getDog()</div><div class="line">    <span class="comment">// 懒加载内容放到闭包，最后调用闭包</span></div><div class="line">    <span class="built_in">lazy</span> <span class="keyword">var</span> dog3 : <span class="type">Dog</span> = &#123;</div><div class="line">        <span class="keyword">let</span> d = <span class="type">Dog</span>()</div><div class="line">        d.name = <span class="string">"dog3"</span></div><div class="line">        <span class="keyword">return</span> d</div><div class="line">    &#125;()</div><div class="line">    <span class="built_in">lazy</span> <span class="keyword">var</span> dog4 : <span class="type">Dog</span> = &#123;</div><div class="line">        $<span class="number">0</span>.name = <span class="string">"dog4"</span></div><div class="line">        <span class="keyword">return</span> $<span class="number">0</span></div><div class="line">    &#125;(<span class="type">Dog</span>())</div><div class="line">    </div><div class="line">    </div><div class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">getDog</span><span class="params">()</span></span> -&gt; <span class="type">Dog</span> &#123;</div><div class="line">        <span class="keyword">let</span> d = <span class="type">Dog</span>()</div><div class="line">        d.name = <span class="string">"getDog"</span></div><div class="line">        <span class="keyword">return</span> d</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// MARK: - ARC</span></div><div class="line"><span class="comment">// <span class="doctag">TODO:</span> - todo</span></div><div class="line"><span class="comment">// <span class="doctag">FIXME:</span> 解决bug</span></div></pre></td></tr></table></figure>
<h1 id="访问权限"><a href="#访问权限" class="headerlink" title="访问权限"></a>访问权限</h1><ol>
<li>Swift中的访问控制模型基于模块和源文件、类这三个概念</li>
<li>Swift访问权限，作用于类，属性，方法等</li>
<li>Swift中的访问级别遵循一个基本原则：不可以在某个实体中定义访问级别更高的实体（类如果都不能访问，里面的属性方法就算开放了也不能访问）<h2 id="访问修饰符"><a href="#访问修饰符" class="headerlink" title="访问修饰符"></a>访问修饰符</h2></li>
<li><code>internal</code> : 在本模块中都可以访问，（默认），子类也可以继承</li>
<li><code>private</code> : 当前类私有</li>
<li><code>fileprivate</code> : 在当前源文件中可以访问</li>
<li><code>public</code> : 跨模块时，如果修饰类，则无法继承。修饰方法，不能被<code>override</code></li>
<li><code>open</code> : 跨模块时，如果修饰类，可以继承。修饰方法，可以被<code>override</code></li>
</ol>
<h1 id="方法抛出异常"><a href="#方法抛出异常" class="headerlink" title="方法抛出异常"></a>方法抛出异常</h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Error 就是在告诉编译器，这个枚举，可以充当具体的异常值</span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">FileError</span> : <span class="title">Error</span></span>&#123;</div><div class="line">    <span class="keyword">case</span> notExists</div><div class="line">    <span class="keyword">case</span> notFormat</div><div class="line">    <span class="keyword">case</span> notContent</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// path 不存在 nil</span></div><div class="line"><span class="comment">// path存在，但是，路径对应的文件格式不对 .png</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">readFile</span><span class="params">(path : String)</span></span> <span class="keyword">throws</span> -&gt; <span class="type">String</span> &#123;</div><div class="line">    <span class="comment">// 1. 判断文件路径是否存在</span></div><div class="line">    <span class="keyword">let</span> isExists = <span class="type">FileManager</span>.<span class="keyword">default</span>.fileExists(atPath: path)</div><div class="line">    <span class="keyword">if</span> !isExists &#123;</div><div class="line">        <span class="comment">// 在这里面，抛出，出现问题的原因</span></div><div class="line">        <span class="comment">// 如果想要成为，异常值，必须要遵循一个协议Error</span></div><div class="line">        <span class="keyword">throw</span> <span class="type">FileError</span>.notExists</div><div class="line"><span class="comment">//        return</span></div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// 2. 读取文件内容</span></div><div class="line">    <span class="comment">// 判定，如果这个构造函数，出现了异常，一般都是格式不正确</span></div><div class="line">    <span class="keyword">var</span> content : <span class="type">String</span> = <span class="string">""</span></div><div class="line">    <span class="keyword">do</span> &#123;</div><div class="line">        content = <span class="keyword">try</span> <span class="type">String</span>(contentsOfFile: path)</div><div class="line">    &#125; <span class="keyword">catch</span>  &#123;</div><div class="line">        <span class="comment">// 捕捉到异常，会执行这个闭包</span></div><div class="line">        <span class="keyword">throw</span> <span class="type">FileError</span>.notFormat</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> content.lengthOfBytes(using: <span class="type">String</span>.<span class="type">Encoding</span>.utf8) == <span class="number">0</span> &#123;</div><div class="line">        <span class="keyword">throw</span> <span class="type">FileError</span>.notContent</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> content</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Playground"><a href="#Playground" class="headerlink" title="Playground"></a>Playground</h1><h2 id="1-Playground异步执行"><a href="#1-Playground异步执行" class="headerlink" title="1. Playground异步执行"></a>1. Playground异步执行</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Playground中的代码会从上到下执行，并在执行完毕之后立即停止，如果想要测试异步处理（比如网络请求）</span></div><div class="line"><span class="comment">// 1. 导入PlaygroundSupport</span></div><div class="line"><span class="comment">// import PlaygroundSupport</span></div><div class="line"><span class="comment">// 2. 让Playground永远执行</span></div><div class="line"><span class="comment">//PlaygroundPage.current.needsIndefiniteExecution = true</span></div><div class="line"><span class="comment">// 3. 停止执行</span></div><div class="line"><span class="comment">// PlaygroundPage.current.finishExecution()</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> PlaygroundSupport</div><div class="line"><span class="type">PlaygroundPage</span>.current.needsIndefiniteExecution = <span class="literal">true</span></div><div class="line"><span class="keyword">let</span> queue = <span class="type">DispatchQueue</span>(label: <span class="string">"xx"</span>)</div><div class="line"><span class="keyword">let</span> time = <span class="type">DispatchTime</span>.now() + <span class="type">DispatchTimeInterval</span>.seconds(<span class="number">2</span>)</div><div class="line">queue.asyncAfter(deadline: time) &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"finish"</span>)</div><div class="line">    <span class="type">PlaygroundPage</span>.current.finishExecution()</div><div class="line">&#125;</div><div class="line"><span class="built_in">print</span>(<span class="string">"first"</span>)</div></pre></td></tr></table></figure>
<h2 id="2-MarkDown语法"><a href="#2-MarkDown语法" class="headerlink" title="2. MarkDown语法"></a>2. MarkDown语法</h2><p>从Xcode右边文件属性，选中Render Documentation看渲染效果</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//: [Previous](@previous) </span></div><div class="line"><span class="comment">//: [Next](@next)</span></div><div class="line"></div><div class="line"><span class="comment">//PageName为页名字不能有空格</span></div><div class="line"><span class="comment">//: [Go to AnyPage](PageName)</span></div></pre></td></tr></table></figure>
<h2 id="3-TimeLine使用"><a href="#3-TimeLine使用" class="headerlink" title="3. TimeLine使用"></a>3. TimeLine使用</h2><p>点击右上角双环（Show the Assistant editor）,在代码中做的动画可以在TimeLine中预览</p>
<h2 id="4-Playground的Sources目录"><a href="#4-Playground的Sources目录" class="headerlink" title="4. Playground的Sources目录"></a>4. Playground的Sources目录</h2><ol>
<li>放到Sources目录下的源文件会被编译成模块(module)并自动导入到Playground中，只会编译一次</li>
<li>使用注意：需要使用<code>public</code>关键字修饰资源文建中，需要暴露给外界的内容</li>
</ol>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/04/03/Git 配置多个SSH-Key/" rel="next" title="">
                <i class="fa fa-chevron-left"></i> 
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/12/03/iOS9新特性之常见关键字/" rel="prev" title="iOS9新特性之常见关键字">
                iOS9新特性之常见关键字 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        
<script>
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/100.gif"
               alt="CoderShmily" />
          <p class="site-author-name" itemprop="name">CoderShmily</p>
           
              <p class="site-description motion-element" itemprop="description">╰☆清风徐来，水波不兴☆╮</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">18</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/CoderShmily" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/p/1005052341994265" target="_blank" title="微博">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  微博
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Any-AnyObject-NSObject"><span class="nav-number">1.</span> <span class="nav-text">Any AnyObject NSObject</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#条件判断"><span class="nav-number">2.</span> <span class="nav-text">条件判断</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-if的使用"><span class="nav-number">2.1.</span> <span class="nav-text">1. if的使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-三目运算符"><span class="nav-number">2.2.</span> <span class="nav-text">2. 三目运算符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-guard"><span class="nav-number">2.3.</span> <span class="nav-text">3. guard</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-switch的用法"><span class="nav-number">2.4.</span> <span class="nav-text">4. switch的用法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-switch与基本数据"><span class="nav-number">2.4.1.</span> <span class="nav-text">1. switch与基本数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-switch与区间"><span class="nav-number">2.4.2.</span> <span class="nav-text">2. switch与区间</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-switch与枚举"><span class="nav-number">2.4.3.</span> <span class="nav-text">3. switch与枚举</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-switch与元组"><span class="nav-number">2.4.4.</span> <span class="nav-text">4. switch与元组</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#循环"><span class="nav-number">3.</span> <span class="nav-text">循环</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-for循环"><span class="nav-number">3.1.</span> <span class="nav-text">1. for循环</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-while循环"><span class="nav-number">3.2.</span> <span class="nav-text">2. while循环</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-while循环"><span class="nav-number">3.2.1.</span> <span class="nav-text">1. while循环</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-repeat-while循环"><span class="nav-number">3.2.2.</span> <span class="nav-text">2. repeat~while循环</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#字符串处理"><span class="nav-number">4.</span> <span class="nav-text">字符串处理</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数组"><span class="nav-number">5.</span> <span class="nav-text">数组</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#字典"><span class="nav-number">6.</span> <span class="nav-text">字典</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#元组"><span class="nav-number">7.</span> <span class="nav-text">元组</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#可选类型"><span class="nav-number">8.</span> <span class="nav-text">可选类型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-可选类型-（才能赋值为nil）"><span class="nav-number">8.1.</span> <span class="nav-text">2. 可选类型 （才能赋值为nil）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-四种方式使用可选类型的值"><span class="nav-number">8.2.</span> <span class="nav-text">3. 四种方式使用可选类型的值</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-判断-直接解包"><span class="nav-number">8.2.1.</span> <span class="nav-text">1. 判断 + 直接解包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-可选绑定"><span class="nav-number">8.2.2.</span> <span class="nav-text">2. 可选绑定</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-guard守护"><span class="nav-number">8.2.3.</span> <span class="nav-text">3. guard守护</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-空合运算符"><span class="nav-number">8.2.4.</span> <span class="nav-text">4. 空合运算符</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#类型转换"><span class="nav-number">9.</span> <span class="nav-text">类型转换</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#函数"><span class="nav-number">10.</span> <span class="nav-text">函数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-函数的四种类型"><span class="nav-number">10.1.</span> <span class="nav-text">1. 函数的四种类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-无参数，无返回值"><span class="nav-number">10.1.1.</span> <span class="nav-text">1. 无参数，无返回值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-无参数，有返回值"><span class="nav-number">10.1.2.</span> <span class="nav-text">2. 无参数，有返回值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-有参数，无返回值"><span class="nav-number">10.1.3.</span> <span class="nav-text">3. 有参数，无返回值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-有参数，有返回值"><span class="nav-number">10.1.4.</span> <span class="nav-text">4. 有参数，有返回值</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#函数其他注意"><span class="nav-number">10.2.</span> <span class="nav-text">函数其他注意</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-省略第一个外部参数的名字"><span class="nav-number">10.2.1.</span> <span class="nav-text">1. 省略第一个外部参数的名字</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-设置参数默认值"><span class="nav-number">10.2.2.</span> <span class="nav-text">2. 设置参数默认值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-设置可变参数"><span class="nav-number">10.2.3.</span> <span class="nav-text">3. 设置可变参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-修改内部参数的值"><span class="nav-number">10.2.4.</span> <span class="nav-text">4. 修改内部参数的值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-设置参数为地址传递"><span class="nav-number">10.2.5.</span> <span class="nav-text">5. 设置参数为地址传递</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-函数嵌套"><span class="nav-number">10.2.6.</span> <span class="nav-text">6. 函数嵌套</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-函数的类型"><span class="nav-number">10.2.7.</span> <span class="nav-text">7. 函数的类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-区分不同函数"><span class="nav-number">10.2.8.</span> <span class="nav-text">8. 区分不同函数</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#枚举"><span class="nav-number">11.</span> <span class="nav-text">枚举</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#结构体"><span class="nav-number">12.</span> <span class="nav-text">结构体</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-结构体基本使用"><span class="nav-number">12.1.</span> <span class="nav-text">1. 结构体基本使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-结构体扩充构造函数"><span class="nav-number">12.2.</span> <span class="nav-text">2. 结构体扩充构造函数</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#类"><span class="nav-number">13.</span> <span class="nav-text">类</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-类的声明初始化"><span class="nav-number">13.1.</span> <span class="nav-text">1. 类的声明初始化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-类的属性和方法"><span class="nav-number">13.2.</span> <span class="nav-text">2. 类的属性和方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-类的继承之KVC使用"><span class="nav-number">13.3.</span> <span class="nav-text">3. 类的继承之KVC使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-类的循环引用"><span class="nav-number">13.4.</span> <span class="nav-text">4. 类的循环引用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-结构体和类的区别"><span class="nav-number">13.5.</span> <span class="nav-text">5. 结构体和类的区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-OC中使用Swift的类和结构体"><span class="nav-number">13.6.</span> <span class="nav-text">6. OC中使用Swift的类和结构体</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-Swift中调用OC"><span class="nav-number">13.7.</span> <span class="nav-text">7. Swift中调用OC</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#三大特性"><span class="nav-number">14.</span> <span class="nav-text">三大特性</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#可选链"><span class="nav-number">15.</span> <span class="nav-text">可选链</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#协议"><span class="nav-number">16.</span> <span class="nav-text">协议</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-协议的基本使用"><span class="nav-number">16.1.</span> <span class="nav-text">1.协议的基本使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-协议中使用代理"><span class="nav-number">16.2.</span> <span class="nav-text">2. 协议中使用代理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-协议中的可选"><span class="nav-number">16.3.</span> <span class="nav-text">3. 协议中的可选</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#闭包"><span class="nav-number">17.</span> <span class="nav-text">闭包</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-闭包的基本使用"><span class="nav-number">17.1.</span> <span class="nav-text">1.闭包的基本使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-尾随闭包和逃逸闭包"><span class="nav-number">17.2.</span> <span class="nav-text">2. 尾随闭包和逃逸闭包</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-闭包的循环引用（4中解决方式）"><span class="nav-number">17.3.</span> <span class="nav-text">3. 闭包的循环引用（4中解决方式）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#懒加载"><span class="nav-number">18.</span> <span class="nav-text">懒加载</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#注释"><span class="nav-number">19.</span> <span class="nav-text">注释</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#访问权限"><span class="nav-number">20.</span> <span class="nav-text">访问权限</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#访问修饰符"><span class="nav-number">20.1.</span> <span class="nav-text">访问修饰符</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#方法抛出异常"><span class="nav-number">21.</span> <span class="nav-text">方法抛出异常</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Playground"><span class="nav-number">22.</span> <span class="nav-text">Playground</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Playground异步执行"><span class="nav-number">22.1.</span> <span class="nav-text">1. Playground异步执行</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-MarkDown语法"><span class="nav-number">22.2.</span> <span class="nav-text">2. MarkDown语法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-TimeLine使用"><span class="nav-number">22.3.</span> <span class="nav-text">3. TimeLine使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-Playground的Sources目录"><span class="nav-number">22.4.</span> <span class="nav-text">4. Playground的Sources目录</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CoderShmily</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  

    
      <script id="dsq-count-scr" src="https://codershmily.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://codershmily.github.io/2016/11/15/Swift3.0学习笔记/';
          this.page.identifier = '2016/11/15/Swift3.0学习笔记/';
          this.page.title = 'Swift3.0学习笔记';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://codershmily.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  





  








  




  
  
  
  <link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/lib/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v=5.1.1"></script>



  

  

  

  

  

</body>
</html>
